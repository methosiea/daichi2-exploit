/**
 * There is no jQuery in this context.
 */
declare let $: unknown;

/**
 * @description Allows to navigate thru an custom http request.
 */
export function go(url: string, { body, method }: { body: Record<string, string>; method: 'GET' | 'POST' | 'PUT' }): void {
	const rootElement = document.body || document.documentElement;
	const formElement = document.createElement('form');
	formElement.action = url;
	formElement.method = method;

	for (const key of Object.keys(body)) {
		const value = body[key];

		const inputElement = document.createElement('input');
		inputElement.type = 'hidden';
		inputElement.name = key;
		inputElement.value = value;

		formElement.appendChild(inputElement);
	}

	rootElement.appendChild(formElement);
	formElement.submit();
}
