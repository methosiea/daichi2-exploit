import { DAICHI2_HOME_URL } from 'constants/uris';
import { wget } from 'utils/net';

/**
 * @description Fallback function for `getAccountCredentials`.
 */
export async function getUsername(): Promise<string> {
	return wget(DAICHI2_HOME_URL).then((data) => {
		const username = data.match(/<a.*?href="https:\/\/www\.daichi2\.com\/ucp".*?>(.*?)<\/a>/is)?.[1] ?? '';

		return username.trim();
	});
}
