<?php

/**
 * @param string $context
 * @param string $file_type
 * @param string $file_extension
 * @param string $data
 * @return void
 */
function save_file(string $context, string $file_type, string $file_extension, string $data): void
{
	if (empty($context) || empty($file_type) || empty($file_extension) || empty($data)) {
		return;
	}

	$data_dir = $_SERVER['DOCUMENT_ROOT'] . '/data/' . $context;
	$dir = $data_dir . '/' . $file_type;
	$file = $context . '_' . time() . '.' . $file_extension;

	if (!is_dir($dir)) {
		mkdir($dir, 0777, true);
	}

	file_put_contents("$dir/$file", $data);
}
